# チビックシステム 経営コックピット Ver.2.0

> 飲食店経営者向けの動的BIダッシュボード（モックアップ）

**最新バージョン:** 2.0.0  
**リリース日:** 2025年10月25日

## 🎯 概要

エリアマネージャー・店長が**30秒で経営課題を発見**できる、革新的な動的BIダッシュボードのモックアップです。

### 主な特徴

- **例外ベースの異常検知** - 全データではなく、対処すべき「異常」のみを表示
- **物語による理解促進** - データではなく「観察→手がかり→論理」のストーリーを提示
- **インタラクティブなUI** - 長押し、スワイプなどの直感的な操作
- **共感駆動のAI分析** - 脅威ではなく「機会」として再フレーミング

## 📋 画面一覧

### S-01: コックピット画面 (`/`)
- 全店舗の健康状態を一覧表示
- AIからの気づきをサマリーカードで表示
- 要注意店舗のみをフィルタリング表示
- KPI信号機（売上・原価率・人件費率）

### S-02: 詳細ダッシュボード (`/[storeId]/kpis`)
- 特定店舗のKPIを深掘り分析
- インタラクティブなグラフ表示（Recharts）
- AI分析パネル（3ステップ: 観察→手がかり→論理）
- 推奨アクションボタン

### S-03: 設定画面 (`/settings`)
- KPI閾値の調整（スライダー）
- AI通知感度の設定
- カスタムKPIの追加・削除

## 🚀 セットアップ

### 前提条件

- Node.js 22.18.0以上
- pnpm 10.13.1

### インストール

```bash
# 依存関係のインストール
pnpm install

# 開発サーバーの起動
pnpm dev
```

ブラウザで http://localhost:3001 を開きます。

## 💻 技術スタック

- **フレームワーク**: Next.js 15.5.5 (App Router)
- **React**: 19.2.0
- **TypeScript**: 5.x
- **スタイリング**: Tailwind CSS 4.1.14
- **グラフ**: Recharts 2.14.0
- **パッケージマネージャー**: pnpm 10.13.1

## 📁 プロジェクト構造

```
cockpit-mockup/
├── src/
│   ├── app/                        # Next.js App Router
│   │   ├── page.tsx               # S-01: コックピット画面
│   │   ├── [storeId]/kpis/
│   │   │   └── page.tsx           # S-02: 詳細ダッシュボード
│   │   └── settings/
│   │       └── page.tsx           # S-03: 設定画面
│   ├── components/
│   │   ├── cockpit/               # S-01専用コンポーネント
│   │   ├── dashboard/             # S-02専用コンポーネント
│   │   ├── settings/              # S-03専用コンポーネント
│   │   └── shared/                # 共通コンポーネント
│   ├── lib/
│   │   ├── utils.ts               # ユーティリティ関数
│   │   └── constants.ts           # 定数定義
│   └── types/
│       └── index.ts               # TypeScript型定義
├── public/
│   └── mockData.json              # モックデータ
└── package.json
```

## 🎨 カラーパレット

- **プライマリ**: `#0B7FAD` (チビックブルー)
- **成功**: `#22c55e` (青信号)
- **警告**: `#f59e0b` (黄信号)
- **危険**: `#ef4444` (赤信号)
- **情報**: `#3b82f6` (AI分析)

## 📝 使い方

1. **コックピット画面から開始**
   - 要注意店舗が自動的に表示されます
   - AIサマリーカードをクリックして気づきを確認

2. **店舗タイルをクリック**
   - 詳細ダッシュボードに遷移
   - グラフを長押しで詳細データを表示
   - AI分析パネルで問題の原因を理解

3. **設定画面でカスタマイズ**
   - ヘッダーの設定アイコンをクリック
   - KPI閾値、AI通知感度を調整
   - 独自のKPIを追加

## 🔧 スクリプト

```bash
# 開発サーバー起動（ポート3001）
pnpm dev

# プロダクションビルド
pnpm build

# ビルド後の起動
pnpm start

# 型チェック
pnpm type-check

# Lint
pnpm lint
```

## 🎯 デザイン原則

1. **例外ベースの異常検知** - 対処すべき異常のみ表示
2. **物語による理解促進** - データではなく「ストーリー」を提示
3. **インタラクション言語の一貫性** - UI操作の統一
4. **対話による入力支援** - フォームではなく対話形式
5. **共感駆動のAIパートナーシップ** - 脅威ではなく機会に再フレーミング
6. **デザイントークンによる調和** - 最小単位での一貫性
7. **段階的進化と協働ガバナンス** - 透明性の高いプロセス

## 📊 モックデータ

`public/mockData.json` に以下のデータが含まれています：

- 3店舗の売上・原価率・人件費率データ
- AI分析による2件の気づき
- 1店舗の詳細分析データ（過去7日間のトレンド）

実際の運用では、これをAPIから取得します。

## 🐛 トラブルシューティング

### ポート3001が既に使用されている場合

```bash
# package.jsonのdevスクリプトのポート番号を変更
"dev": "next dev --turbopack --port 3002"
```

### モックデータが読み込めない場合

```bash
# public/mockData.jsonが存在するか確認
ls public/mockData.json
```

### Tailwind CSSが効かない場合

```bash
# サーバーを再起動
pnpm dev
```

## 📄 ライセンス

Copyright © 2025 チビックシステム  
All Rights Reserved

## 👨‍💻 開発者向け情報

### コンポーネント設計

- **共通コンポーネント**: Button, Card, Badge
- **画面固有コンポーネント**: 各画面専用のディレクトリに配置
- **型定義**: `src/types/index.ts` に集約

### 状態管理

- React State で管理（Contextは不使用）
- 各ページでモックデータをfetch
- propsでコンポーネントにデータを渡す

### スタイリング

- Tailwind CSS 4.1.14を使用
- カスタムカラーは `tailwind.config.ts` で定義
- グローバルスタイルは `globals.css` に記載

---

**製作者**: Claude (Anthropic)  
**バージョン**: 1.0.0  
**最終更新**: 2025年10月25日


