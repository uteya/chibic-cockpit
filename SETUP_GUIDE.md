# 🚀 セットアップガイド

## ✅ 実装完了！

チビックシステム 経営コックピットのモックアップが完成しました。

## 📦 インストール済みの内容

### 実装済みの画面

1. **S-01: コックピット画面** (`/`)
   - ✅ Header（日付選択、設定アイコン）
   - ✅ AISummaryCard（AI気づきの表示）
   - ✅ StoreTile（店舗タイル一覧）
   - ✅ KPIIcon（信号機形式のKPI表示）

2. **S-02: 詳細ダッシュボード** (`/[storeId]/kpis`)
   - ✅ SideMenu（分析メニュー）
   - ✅ MainChart（Rechartsグラフ）
   - ✅ AIInsightPanel（3ステップ分析）
   - ✅ ActionButtons（推奨アクション）

3. **S-03: 設定画面** (`/settings`)
   - ✅ KPISlider（閾値調整）
   - ✅ NotificationControl（通知感度設定）
   - ✅ CustomKPIWizard（カスタムKPI管理）

### 技術スタック

- ✅ Next.js 15.5.5 (App Router)
- ✅ React 19.2.0
- ✅ TypeScript 5.7.3
- ✅ Tailwind CSS 4.1.14
- ✅ Recharts 2.14.0
- ✅ pnpm 10.13.1

## 🎯 起動方法

### 開発サーバーが既に起動している場合

ブラウザで以下にアクセスしてください：

```
http://localhost:3001
```

### 開発サーバーを起動する場合

```bash
cd cockpit-mockup
pnpm dev
```

## 📱 画面遷移フロー

```
[トップページ]
http://localhost:3001/
    ↓ 店舗タイルをクリック
[詳細ダッシュボード]
http://localhost:3001/st0002/kpis
    ↓ 設定アイコンをクリック
[設定画面]
http://localhost:3001/settings
```

## 🎨 主な機能

### コックピット画面（トップページ）

- 要注意店舗のみを自動表示
- AI気づきのサマリー表示
- 全店舗表示への切り替えボタン
- 日付の前後移動（ヘッダー）

### 詳細ダッシュボード

- 売上トレンドのグラフ表示
- 昨年同曜日との比較
- 正常範囲のシェード表示
- AI分析（観察→手がかり→論理）
- 推奨アクションボタン

### 設定画面

- KPI閾値のスライダー調整
- AI通知感度の3段階設定
- カスタムKPIの追加・削除

## 📊 モックデータ

`public/mockData.json` に以下のデータが含まれています：

- **3店舗**のKPIデータ
  - ちびっく食堂 八重洲店（良好）
  - ちびっく酒場 新橋店（要注意）
  - ちびっく居酒屋 渋谷店（要注意）

- **2件**のAI気づき
  - 売上低下の分析（新橋店）
  - 人件費率超過の分析（渋谷店）

- **詳細分析データ**
  - 過去7日間の売上トレンド
  - 時間帯別売上内訳

## 🔧 カスタマイズ方法

### ポート番号を変更する

`package.json` の `dev` スクリプトを編集：

```json
"dev": "next dev --turbopack --port 3002"
```

### モックデータを編集する

`public/mockData.json` を直接編集してください。

### カラーパレットを変更する

`tailwind.config.ts` の `colors` セクションを編集：

```typescript
colors: {
  chibic: {
    primary: '#0B7FAD',  // ← ここを変更
    ...
  },
  ...
}
```

## 🐛 トラブルシューティング

### ポート3001が既に使用されている

```bash
# 別のポートで起動
pnpm dev --port 3002
```

### モックデータが表示されない

1. `public/mockData.json` が存在するか確認
2. ブラウザのコンソールでエラーを確認
3. 開発サーバーを再起動

### Tailwind CSSが効かない

```bash
# キャッシュをクリアして再起動
rm -rf .next
pnpm dev
```

### TypeScriptエラーが出る

```bash
# 型チェックを実行
pnpm type-check
```

## 📝 次のステップ

### 実データとの接続

1. APIエンドポイントの作成
2. `fetch('/mockData.json')` を実際のAPIコールに置き換え
3. 認証機能の追加

### 機能拡張

- [ ] データのエクスポート機能
- [ ] グラフのダウンロード機能
- [ ] より詳細な分析機能
- [ ] プッシュ通知機能

### デプロイ

```bash
# プロダクションビルド
pnpm build

# ビルド後の起動
pnpm start
```

## 💡 ヒント

- **長押し**: グラフ上で詳細情報を表示（モックアップでは動作しません）
- **スワイプ**: 日付の前後移動（モックアップでは動作しません）
- **タップ**: 画面遷移、ボタン実行

## 📞 サポート

問題が発生した場合は、以下を確認してください：

1. Node.jsのバージョン: `node -v`
2. pnpmのバージョン: `pnpm -v`
3. 依存関係の再インストール: `pnpm install`
4. キャッシュのクリア: `rm -rf .next node_modules && pnpm install`

---

**製作者**: Claude (Anthropic)  
**バージョン**: 1.0.0  
**最終更新**: 2025年10月25日

✨ **モックアップの実装が完了しました！** ✨


